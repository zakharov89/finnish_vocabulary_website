{% extends "base.html" %}

{% block content %}
<h2>Edit Category: {{ category['name'] }}</h2>

<form method="post">
    <p>
        <label>Name:</label><br>
        <input type="text" name="name" value="{{ category['name'] }}" class="admin-input" required>
    </p>
    <p>
        <label>Parent category (optional):</label><br>
        <select name="parent_id" class="admin-select">
            <option value="">-- None --</option>
            {% for c in all_categories %}
                {% if c['id'] != category['id'] %}
                    <option value="{{ c['id'] }}" {% if c['id'] == category['parent_id'] %}selected{% endif %}>
                        {{ c['name'] }}
                    </option>
                {% endif %}
            {% endfor %}
        </select>
    </p>
    <button type="submit" class="admin-btn">Update Category</button>
</form>

<p><a href="{{ url_for('admin_dashboard') }}" class="admin-btn-small">Back to Dashboard</a></p>
{% endblock %}
