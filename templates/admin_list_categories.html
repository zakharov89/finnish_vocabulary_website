{% extends "base.html" %}
{% block content %}

<h2>All Categories</h2>

<table class="admin-table">
    <tbody>
        {% for c in categories %}
        <tr>
            <!-- Category name links to its public page -->
            <td>
                <a href="{{ url_for('show_category', category_name=c.name) }}" target="_blank">{{ c.name }}</a>
            </td>
            <!-- Admin Edit button -->
            <td>
                <a href="{{ url_for('admin_edit_category', category_id=c.id) }}" target="_blank" class="admin-btn-small">
                    Edit
                </a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<!-- Pagination -->
<div class="pagination">
    {% if page > 1 %}
        <a href="{{ url_for('admin_all_categories', page=page-1) }}">« Previous</a>
    {% endif %}
    <span>Page {{ page }} of {{ total_pages }}</span>
    {% if page < total_pages %}
        <a href="{{ url_for('admin_all_categories', page=page+1) }}">Next »</a>
    {% endif %}
</div>

<p>
    <a href="{{ url_for('admin_dashboard') }}" class="admin-btn-small">Back to Dashboard</a>
</p>

{% endblock %}
